/* style.css
  ã€ŒMacã®ã‚ˆã†ãªç¾ã—ã•ã€ã¨ã€Œãƒ¢ãƒ€ãƒ³ãƒ»ãƒ•ãƒ©ãƒƒãƒˆã€ã‚’ä¸¡ç«‹ã•ã›ã‚‹ãŸã‚ã®PoCã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
  ãƒ•ã‚©ãƒ³ãƒˆ (Noto Sans JP)ã€ä½™ç™½ã€è§’ä¸¸(border-radius)ã€å½±(box-shadow)ã‚’èª¿æ•´ã—ã¾ã™ã€‚
  (Ver. 2: ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå¯¾å¿œ)
*/

/* --- 0. Webãƒ•ã‚©ãƒ³ãƒˆã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ (ä¿®æ­£) --- */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap');

/* --- 1. ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ»ãƒªã‚»ãƒƒãƒˆ --- */
body {
  margin: 0;
  /* (ä¿®æ­£) Noto Sans JP ã‚’æœ€å„ªå…ˆã«è¨­å®š */
  font-family: 'Noto Sans JP', -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: #f0f2f5; 
  color: #1d1d1f;
}

/* --- 2. App.jsx (ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ) --- */
.app-container {
  display: flex;
  width: 100vw;
  height: 100vh;
  padding: 0;
  box-sizing: border-box;
}

/* --- 3. chat-window (Macé¢¨ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦) --- */
.chat-window {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  background: #ffffff;
  overflow: hidden;
}

/* --- 4. Header (components/Header.jsx) --- */
/* (ä»Šå›ã¯å¤‰æ›´ã‚ã‚Šã¾ã›ã‚“ãŒã€ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦UIã¨ã—ã¦æ®‹ã—ã¦ã„ã¾ã™) */
.chat-header {
  display: flex;
  align-items: center;
  padding: 10px 16px;
  background-color: #f7f7f7;
  border-bottom: 1px solid #e0e0e0;
  user-select: none;
}
.traffic-lights {
  display: flex;
  gap: 8px;
}
.traffic-light {
  width: 12px;
  height: 12px;
  border-radius: 50%;
}
.traffic-light.red { background-color: #ff5f57; }
.traffic-light.yellow { background-color: #febc2e; }
.traffic-light.green { background-color: #28c940; }
.chat-title {
  font-size: 14px;
  font-weight: 600;
  color: #333;
  text-align: center;
  flex-grow: 1;
  margin-left: -44px;
}

/* --- 5. MockModeSelect (components/MockModeSelect.jsx) --- */
.mock-mode-select {
  padding: 10px 16px;
  background-color: #fffbe6;
  border-bottom: 1px solid #e0e0e0;
  display: flex;
  gap: 10px;
  align-items: center;
}

/* (ä¿®æ­£) ã‚¢ã‚¤ã‚³ãƒ³å¯¾å¿œ (lucide-react) */
.mock-mode-select label {
  font-size: 12px;
  font-weight: 600;
  color: #594a00;
  /* (è¿½åŠ ) ã‚¢ã‚¤ã‚³ãƒ³ã¨ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸¦ã¹ã‚‹ */
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

/* (ä¿®æ­£) ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ */
.mock-mode-select select {
  font-family: inherit;
  font-size: 12px;
  border-radius: 6px;
  border: 1px solid #d1d1d1;
  background-color: #fff;
  
  /* (å¤‰æ›´) OSæ¨™æº–UIã®ç„¡åŠ¹åŒ– */
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  
  /* (å¤‰æ›´) çŸ¢å°ç”¨ã®ä½™ç™½ç¢ºä¿ */
  padding: 4px 28px 4px 10px; 

  /* (è¿½åŠ ) ã‚«ã‚¹ã‚¿ãƒ çŸ¢å° (SVG) */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 6px center;
  background-size: 16px 16px;
}

/* --- 6. ChatHistory (components/ChatHistory.jsx) --- */
.chat-history {
  flex-grow: 1;
  overflow-y: auto;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ« (Macé¢¨) */
.chat-history::-webkit-scrollbar {
  width: 6px;
}
.chat-history::-webkit-scrollbar-track {
  background: transparent;
}
.chat-history::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 3px;
}
.chat-history::-webkit-scrollbar-thumb:hover {
  background: #a1a1a1;
}

/* (è¿½åŠ ) T-07: ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ (Typing) */
.typing-indicator {
  display: flex;
  gap: 4px;
  padding: 10px 16px;
  background-color: #f0f0f0; /* AIã®å¹ãå‡ºã—è‰² (ä¿®æ­£å¾Œ) */
  border-radius: 18px 18px 18px 4px; /* AIã®å¹ãå‡ºã—å½¢çŠ¶ */
  align-self: flex-start; /* å·¦å¯„ã› */
  max-width: 75px;
  animation: fadeIn 0.3s ease-out; /* æ—¢å­˜ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
}
.typing-indicator span {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: #999;
  animation: typing-bounce 1.2s infinite ease-in-out;
}
.typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
.typing-indicator span:nth-child(3) { animation-delay: 0.4s; }

@keyframes typing-bounce {
  0%, 60%, 100% { transform: translateY(0); }
  30% { transform: translateY(-4px); }
}

/* --- 7. MessageBlock (components/MessageBlock.jsx) --- */
.message-block {
  display: flex;
  flex-direction: column;
  max-width: 75%;
  animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ãƒ¦ãƒ¼ã‚¶ãƒ¼ (è‡ªåˆ†) ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
.message-block.user {
  align-self: flex-end;
  align-items: flex-end;
}
.message-bubble.user {
  background-color: #007aff;
  color: white;
  border-radius: 18px 18px 4px 18px;
}

/* AI (ç›¸æ‰‹) ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
.message-block.ai {
  align-self: flex-start;
  align-items: flex-start;
}
.message-bubble.ai {
  /* (ä¿®æ­£) iMessageé¢¨ã‚°ãƒ¬ãƒ¼ã‹ã‚‰ãƒ•ãƒ©ãƒƒãƒˆãªã‚°ãƒ¬ãƒ¼ã¸å¤‰æ›´ */
  background-color: #f0f0f0; 
  color: #1d1d1f;
  border-radius: 18px 18px 18px 4px;
}

.message-bubble {
  padding: 10px 16px;
  font-size: 16px;
  line-height: 1.5;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* F-UI-003: å‡ºå…¸ */
.citations {
  margin-top: 10px;
  padding-left: 10px;
}
/* (ä¿®æ­£) ã‚¢ã‚¤ã‚³ãƒ³å¯¾å¿œ (lucide-react) */
.citation-item {
  font-size: 12px;
  color: #6d6d72;
  background-color: #f0f0f0;
  padding: 4px 8px;
  border-radius: 6px;
  margin-top: 4px;
  /* (è¿½åŠ ) ã‚¢ã‚¤ã‚³ãƒ³ã¨ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸¦ã¹ã‚‹ */
  display: inline-flex;
  align-items: center;
  gap: 4px;
}
/* (å‰Šé™¤) çµµæ–‡å­— 'ğŸ“„ ' ã‚’JSXå´ã®ã‚¢ã‚¤ã‚³ãƒ³ã«ç½®ãæ›ãˆãŸãŸã‚ */
/* .citation-item::before { ... } */


/* F-UI-004: ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ææ¡ˆ */
.suggested-questions {
  margin-top: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
}
/* (ä¿®æ­£) ã‚¢ã‚¤ã‚³ãƒ³å¯¾å¿œ + ãƒ•ãƒ©ãƒƒãƒˆãƒ‡ã‚¶ã‚¤ãƒ³åŒ– */
.suggested-question-button {
  font-family: inherit;
  font-size: 14px;
  text-align: left;
  background-color: #f9f9f9;
  color: #007aff;
  border-radius: 10px;
  cursor: pointer;
  transition: background-color 0.2s;

  /* (å¤‰æ›´) æ ç·šã‚’å‰Šé™¤ (ãƒ•ãƒ©ãƒƒãƒˆåŒ–) */
  border: none;
  /* (å¤‰æ›´) ã‚¢ã‚¤ã‚³ãƒ³å¯¾å¿œ */
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px; /* ã‚¢ã‚¤ã‚³ãƒ³åˆ†ã®paddingèª¿æ•´ */
}
/* (ä¿®æ­£) ãƒ›ãƒãƒ¼è‰²ã‚’ãƒ•ãƒ©ãƒƒãƒˆãªã‚°ãƒ¬ãƒ¼ã«å¤‰æ›´ */
.suggested-question-button:hover {
  background-color: #f0f0f0;
}
.suggested-question-button:disabled {
  color: #999;
  cursor: not-allowed;
}


/* --- 8. ChatInput (components/ChatInput.jsx) --- */
.chat-input-area {
  padding: 16px;
  border-top: 1px solid #e0e0e0;
  background-color: #f7f7f7;
}

.chat-input-form {
  display: flex;
  gap: 10px;
  align-items: flex-end; /* (è¿½åŠ ) ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã¨ãƒœã‚¿ãƒ³ã®åº•ã‚’æƒãˆã‚‹ */
}

.chat-input {
  flex-grow: 1;
  font-family: inherit;
  font-size: 16px;
  padding: 12px 16px;
  border: 1px solid #d1d1d1;
  border-radius: 10px;
  background-color: #fff;
  resize: none;
  transition: border-color 0.2s, box-shadow 0.2s;
  /* (è¿½åŠ ) Noto Sansã®é«˜ã•ã‚’é©åˆ‡ã«è¡¨ç¤ºã™ã‚‹ãŸã‚ */
  line-height: 1.5; 
}

.chat-input:focus {
  outline: none;
  border-color: #007aff;
  /* (ä¿®æ­£) ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒªãƒ³ã‚°ã‚’å‰Šé™¤ (ãƒ•ãƒ©ãƒƒãƒˆåŒ–) */
  box-shadow: none; 
}

/* (ä¿®æ­£) ã‚¢ã‚¤ã‚³ãƒ³ãƒœã‚¿ãƒ³åŒ– */
.send-button {
  font-family: inherit;
  color: white;
  background-color: #007aff;
  border: none;
  cursor: pointer;
  transition: background-color 0.2s;
  
  /* (å¤‰æ›´) ã‚¢ã‚¤ã‚³ãƒ³ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;  /* å›ºå®šå¹… */
  height: 44px; /* å›ºå®šé«˜ (padding 12px * 2 + font size 16px * 1.5) ã¨ã®ãƒãƒ©ãƒ³ã‚¹ */
  padding: 0;   /* paddingã‚’å‰Šé™¤ */
  border-radius: 12px; /* 10pxã‹ã‚‰å¤‰æ›´ */
  flex-shrink: 0; /* ãƒ•ã‚©ãƒ¼ãƒ ãŒç¸®ã‚“ã§ã‚‚ãƒœã‚¿ãƒ³ã‚µã‚¤ã‚ºã‚’ç¶­æŒ */
}

.send-button:hover {
  background-color: #0056b3;
}

.send-button:disabled {
  background-color: #a1a1a1;
  cursor: not-allowed;
}

/* (è¿½åŠ ) ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ã‚¤ã‚³ãƒ³ (lucide-react) ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
.send-button .loading-icon {
  animation: spin 1s linear infinite;
}
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
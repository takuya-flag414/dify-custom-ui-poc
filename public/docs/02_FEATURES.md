# 02. 主要機能

## スマートチャットインターフェース

ユーザーとAIエージェントの対話を行う中心的な機能です。
- **ストリーミングレスポンス**: AIからの回答をリアルタイムで表示し、待ち時間を感じさせないユーザー体験を提供します。
- **会話履歴**: 過去の会話をサイドバーで管理し、いつでも再開や参照が可能です。
- **モデル切り替え**: 用途に応じて使用するAIモデルを変更できます。
- **コンテキスト検索**: 必要に応じて過去の会話やアップロードされたファイルをコンテキストとして参照します。

## 思考プロセス (Thinking Process / Chain of Thought)

AIが結論に至るまでの推論過程を可視化します。
- **可視化**: 思考の各ステップ（検索、分析、計算など）をステップバイステップで表示します。
- **チップ表示**: 思考ノードをコンパクトなチップ形式で表示し、視覚的なノイズを減らしつつ詳細を確認できるようにしています。
- **流体的な思考ストリーム**: 思考の流れをアニメーションで表現し、AIが「考えている」状態を直感的に伝えます。
- **マージ表示**: `IS_THINKING_PROCESS_MERGED` フラグにより、思考プロセスをメッセージバブル内に統合して表示するか、独立したセクションとして表示するかを制御します。

## アーティファクト (Artifacts)

AIが生成した構造化コンテンツ（コード、ドキュメント、図表など）を専用のパネルで表示・管理します。
- **独立パネル**: チャットのタイムラインとは別に、右側のパネルでコンテンツを大きく表示します。
- **バージョン管理**: 生成物の改版履歴を管理し、変更点を比較できるように設計されています（実装予定）。
- **プレビュー**: コードやHTMLなどのコンテンツを適切な形式でプレビューします。

## スタジオ (Studios)

特定のタスクに特化した作業環境を提供します。
- **専用ワークスペース**: コーディング、ライティング、データ分析など、目的に応じて最適化されたUIを提供します。
- **ギャラリー**: 利用可能なスタジオの一覧を表示し、ワンクリックで環境を切り替えられます。
- **強制表示**: 特定の条件下（例: アプリ起動時や特定のアクション後）でスタジオギャラリーを強制的に表示する機能があります。

## インスペクター (Inspector)

メッセージの詳細情報を分析・表示するための開発者・パワーユーザー向け機能です。
- **引用元表示**: 回答の根拠となった情報ソース（Web検索結果やドキュメント）を詳細に表示します。
- **メタデータ確認**: メッセージのトークン数、モデル名、生成時間などの技術的なメタデータを確認できます。
- **思考ステップ詳細**: 思考プロセスの各ステップの生データを確認できます。

## モックモード (Mock Mode)

開発およびデモ用に、バックエンド接続の有無を制御します。
- **FE Mode (Frontend Only)**: バックエンドサーバーなしで動作するモード。事前に用意されたモックレスポンスを使用してUIの動作確認が可能です。
- **BE Mode (Backend Integrated)**: 実際のDify APIサーバーと通信を行う本番同様のモード。
- **環境変数制御**: `DEFAULT_MOCK_MODE` 環境変数により、デプロイ環境に応じたデフォルトモードを設定できます。

## エラーハンドリングとインテリジェンスHUD

エラー発生時にユーザーを支援する高度なシステムです。
- **Glass Card通知**: エラー情報を視覚的に美しいガラスモーフィズムデザインのカードで通知します。
- **自動リトライ**: 一時的なネットワークエラーなどは自動的に再試行します。
- **手動リトライ**: ユーザーが明示的にリトライアクションを実行できるUIを提供します。
- **シェイクアニメーション**: エラー発生時やリトライ失敗時にUIを振動させ、直感的に問題を伝えます。
